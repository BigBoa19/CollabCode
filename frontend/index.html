<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CollabCode</title>
    <link href="/src/output.css" rel="stylesheet" />
  </head>
  <body
    class="font-sans bg-slate-900 text-gray-100 h-screen flex flex-col overflow-hidden"
  >
    <!-- Minimal Header Bar -->
    <div
      class="flex items-center justify-between px-6 py-3 border-b border-slate-700 bg-slate-800/50 backdrop-blur-sm relative z-50"
    >
      <div class="flex items-center gap-2">
        <h1 class="text-xl font-semibold text-white tracking-tight">
          CollabCode
        </h1>
      </div>

      <div class="flex items-center gap-3">
        <button
          id="runBtn"
          onclick="run()"
          class="px-4 py-1.5 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-md transition-colors duration-200"
        >
          Run
        </button>
        <button
          id="copyLinkBtn"
          onclick="copyLink()"
          class="px-4 py-1.5 text-sm font-medium text-gray-300 hover:text-white hover:bg-slate-700 rounded-md transition-colors duration-200"
        >
          Copy Link
        </button>
        <!-- Dropdown Menu Container -->
        <div class="relative">
          <button
            id="dropdownMenuBtn"
            onclick="toggleDropdown(event)"
            class="p-2 text-gray-300 hover:text-white hover:bg-slate-700 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
            aria-label="Menu"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"
              />
            </svg>
          </button>
          <!-- Dropdown Menu -->
          <div
            id="dropdownMenu"
            class="hidden absolute right-0 mt-2 w-64 bg-slate-800 border border-slate-700 rounded-md shadow-lg z-50"
          >
            <div class="p-4 flex flex-col gap-3">
              <input
                type="text"
                id="nameInput"
                placeholder="Your name"
                class="px-3 py-1.5 w-full bg-slate-700 border border-slate-600 rounded-md text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <button
                id="saveNameBtn"
                onclick="saveName()"
                class="px-3 py-1.5 text-sm font-medium bg-blue-600 hover:bg-blue-500 text-white rounded-md transition-colors duration-200"
              >
                Save Name
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Editor Area - Takes up most of the screen -->
    <div class="flex-1 overflow-hidden" style="position: relative">
      <div
        id="editor"
        class="h-full w-full bg-slate-950"
        style="position: relative"
      ></div>
    </div>

    <!-- Compact Output Section at Bottom -->
    <div class="border-t border-slate-700 bg-slate-800/30">
      <div
        class="px-4 py-2 flex items-center justify-between border-b border-slate-700"
      >
        <h3
          class="text-xs font-semibold text-gray-400 uppercase tracking-wider"
        >
          Output
        </h3>
      </div>
      <div
        id="output"
        class="bg-slate-950 text-green-400 font-mono text-xs p-4 overflow-auto"
        style="height: 10rem"
      ></div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
